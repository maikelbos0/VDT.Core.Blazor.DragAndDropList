@page "/"

<h1>Home</h1>

<p>TODO</p>

<DragAndDropList Items="Items">
    <ItemTemplate>
        <div class="mt-3 p-3 bg-light border rounded d-flex justify-content-between align-items-center" style="height: @(context.Item.Height)px">
            <div class="overflow-hidden">
                <h5 class="text-truncate">@context.Item.Text</h5>
                <div class="text-muted text-truncate">@context.Item.Id</div>
            </div>
            <div>
                <button class="btn btn-primary"><span>&varr;</span><span class="ps-2 d-none d-lg-inline" @onmousedown="context.StartDragging">Move</span></button>
            </div>
        </div>
    </ItemTemplate>
</DragAndDropList>

@code {
    private List<Item> Items { get; set; } = Enumerable.Range(1, 8).Select(i => new Item(Guid.NewGuid(), $"Item {i}", 90 + Random.Shared.Next(0, 3) * 20)).ToList();

    private record Item(Guid Id, string Text, int Height);
}
